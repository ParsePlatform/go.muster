- zero timeout should force waiting for batch to be filled
- zero max batch size should force waiting for timeout
- zero timeout & max batch size should be an error
- zero pending capacity should make the channel blocking
- double select to drain before timeout
- stop timeout
